<!DOCTYPE html>
<html lang="en">
 <head>
   <meta charset="utf-8">
   <meta content="width=device-width,initial-scale=1" name="viewport">
   <title>Riwayat Transaksi - WEB ALFA OFFICIAL</title>
   <meta content="Lihat riwayat transaksi Anda di ALFA OFFICIAL" name="description">
   
   <link href="https://telegra.ph/file/03478fe1432d994cd1dcd.jpg" rel="icon">
   <link href="https://telegra.ph/file/03478fe1432d994cd1dcd.jpg" rel="apple-touch-icon">
   <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Montserrat:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
   <link href="https://api.zeeoneofc.my.id/aos/aos.css" rel="stylesheet">
   <link href="https://api.zeeoneofc.my.id/bootstrap/css/bootstrap.min.css" rel="stylesheet">
   <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
   <link href="https://api.zeeoneofc.my.id/boxicons/css/boxicons.min.css" rel="stylesheet">
   <link href="https://api.zeeoneofc.my.id/glightbox/css/glightbox.min.css" rel="stylesheet">
   <link href="https://api.zeeoneofc.my.id/remixicon/remixicon.css" rel="stylesheet">
   <link href="https://api.zeeoneofc.my.id/swiper/swiper-bundle.min.css" rel="stylesheet">
   <link href="https://api.zeeoneofc.my.id/css/style.min.css" rel="stylesheet">
   <link rel="shortcut icon" href="https://telegra.ph/file/03478fe1432d994cd1dcd.jpg">
   <style>
       .riwayat-section { padding: 60px 0; min-height: 80vh; }
       .table-riwayat { width: 100%; background: #fff; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
       .table-riwayat thead tr { background-color: #0d47a1; color: #ffffff; text-align: left; font-weight: bold; }
       .table-riwayat th, .table-riwayat td { padding: 12px 15px; }
       .table-riwayat tbody tr { border-bottom: 1px solid #dddddd; }
       .table-riwayat tbody tr:nth-of-type(even) { background-color: #f3f3f3; }
       .table-riwayat tbody tr:last-of-type { border-bottom: 2px solid #0d47a1; }
       .status-paid { color: green; font-weight: bold; }
       .status-pending { color: orange; font-weight: bold; }
       .status-failed { color: red; font-weight: bold; }
   </style>
 </head>
 <body>
   <header id="header" class="fixed-top d-flex align-items-center header-scrolled">
     <div class="container d-flex align-items-center justify-content-between">
       <div class="logo">
         <h1><a href="index.html"><span>ALFA OFFICIAL</span></a></h1>
       </div>
       <nav id="navbar" class="navbar">
           <ul>
               <li><a class="nav-link scrollto" href="index.html">Home</a></li>
               <li><a class="nav-link scrollto" href="index.html#pricing">Produk</a></li>
               <li><a class="nav-link active" href="riwayat.html">Riwayat</a></li>
               <li><a class="nav-link scrollto" href="index.html#contact">Contact</a></li>
           </ul>
           <i class="bi bi-list mobile-nav-toggle"></i>
       </nav>
     </div>
   </header>

   <main id="main">
       <section class="breadcrumbs">
           <div class="container">
               <div class="d-flex justify-content-between align-items-center">
                   <h2>Riwayat Transaksi</h2>
                   <ol>
                       <li><a href="index.html">Home</a></li>
                       <li>Riwayat</li>
                   </ol>
               </div>
           </div>
       </section>

       <section class="riwayat-section">
           <div class="container">
               <div class="row">
                   <div class="col-lg-12">
                       <div class="table-responsive">
                           <table class="table-riwayat">
                               <thead>
                                   <tr>
                                       <th>ID Transaksi</th>
                                       <th>Produk</th>
                                       <th>Jumlah</th>
                                       <th>Status</th>
                                       <th>Tanggal</th>
                                   </tr>
                               </thead>
                               <tbody id="riwayat-tbody"></tbody>
                           </table>
                       </div>
                   </div>
               </div>
           </div>
       </section>
   </main>

   <footer id="footer">
        <div class="footer-top"><div class="container"><div class="row"><div class="col-lg-4 col-md-6"><div class="footer-info"><h3>ALFA HOSTING</h3><p class="pb-3"><em></em></p><p>Jawa tengah,<br>Indonesian<br><br><strong>Phone:</strong> +62 822-2676-9163<br><strong>Email:</strong> sanzbot938@gmail.com<br></p></div></div><div class="col-lg-4 col-md-6 footer-newsletter"><h4>TERIMA KASIH</h4><p>TERIMAKASIH SUDAH MAMPIR KE WEBSITE SAYA JANGAN LUPA DI ORDER YA</p></div></div></div></div><div class="container"><div class="copyright">&copy; Copyright <strong><span>ALFA HOSTING </span></strong>. All Rights Reserved</div><div class="credits">Designed by <a href="https://wa.me/6282226769163">ALFA HOSTING</a></div></div>
   </footer>

   <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="ri-arrow-up-line"></i></a>
   <div id="preloader"></div>

   <script src="https://api.zeeoneofc.my.id/aos/aos.js"></script>
   <script src="https://api.zeeoneofc.my.id/bootstrap/js/bootstrap.bundle.min.js"></script>
   <script src="https://api.zeeoneofc.my.id/js/main.min.js"></script>
   <script src="https://kit.fontawesome.com/32db8fe470.js" crossorigin="anonymous"></script>

   <script>
       document.addEventListener('DOMContentLoaded', function() {
           tampilkanRiwayat();
       });

       async function tampilkanRiwayat() {
           const tabelBody = document.getElementById('riwayat-tbody');
           tabelBody.innerHTML = '<tr><td colspan="5" style="text-align:center;">Memuat data riwayat...</td></tr>';
           
           try {
               // PENTING: Ganti baris ini dengan fetch ke API Anda yang sebenarnya
               // const response = await fetch('/api/history');
               // const riwayat = await response.json();

               // Untuk sekarang, kita gunakan data contoh
               const mockRiwayat = [
                   { idtransaksi: 'F1DCAF92ED', produk: 'VPS BASIC 2GB', amount: 25000, status: 'PAID', created_at: '2025-06-24T09:05:10Z' },
                   { idtransaksi: '961A8R7R361', produk: 'VPS BASIC 1GB', amount: 15000, status: 'PAID', created_at: '2025-06-24T08:48:15Z' },
                   { idtransaksi: 'XYZ123ABC', produk: 'JASA INSTALL PANEL', amount: 10000, status: 'PENDING', created_at: '2025-06-24T10:30:00Z' }
               ];
               const riwayat = mockRiwayat; // Hapus ini jika sudah pakai API asli

               tabelBody.innerHTML = ''; 

               if (riwayat.length === 0) {
                   tabelBody.innerHTML = '<tr><td colspan="5" style="text-align:center;">Belum ada riwayat transaksi.</td></tr>';
                   return;
               }

               riwayat.forEach(trx => {
                   let statusClass = '';
                   if (trx.status === 'PAID') statusClass = 'status-paid';
                   else if (trx.status === 'PENDING') statusClass = 'status-pending';
                   else if (trx.status === 'FAILED') statusClass = 'status-failed';
                   
                   const tanggal = new Date(trx.created_at).toLocaleString('id-ID', {
                       year: 'numeric', month: 'short', day: 'numeric',
                       hour: '2-digit', minute: '2-digit'
                   });

                   const baris = `
                       <tr>
                           <td>${trx.idtransaksi}</td>
                           <td>${trx.produk}</td>
                           <td>Rp ${trx.amount.toLocaleString('id-ID')}</td>
                           <td class="${statusClass}">${trx.status}</td>
                           <td>${tanggal}</td>
                       </tr>
                   `;
                   tabelBody.innerHTML += baris;
               });

           } catch (error) {
               console.error('Gagal memuat riwayat:', error);
               tabelBody.innerHTML = '<tr><td colspan="5" style="text-align:center;">Gagal memuat data.</td></tr>';
           }
       }
   </script>
 </body>
</html>
